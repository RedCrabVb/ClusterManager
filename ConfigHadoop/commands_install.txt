ssh-keygen

ssh-copy-id root@*
pass

/etc/hosts
master
node1
node2

gen /etc/hosts
run all hosts
 ssh root@192.168.56.119 'printf $"192.168.56.118 master\n192.168.56.119 node1\n192.168.56.120 node2\n" >
>/etc/hosts'


Алгоритм:
1. Хосты как есть
задаем inventory файл
--структура представляет собой имя, ip/hostname, пароль, группу, добовлять ли в etc/hosts
- обновляем по группе конфиг воркеров
2. Добавление хостов
- ввод имя, ip, пароля/?ключ?, ?класстер?
- проверяем соединение
- ssh-copy-id выполняем
3. Добовляем в класстер
4. Кластре представляет собой папку на сервере приложения
- при установке кластер скачиваються нужные пакеты для перебороски на машины
- в json описаны shell команды, управлющие машинами